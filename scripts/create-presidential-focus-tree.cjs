const fs = require('fs');
const path = require('path');

// –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º
const outputPath = path.join(__dirname, 'presidential_focus_tree.json');
const reportPath = path.join(__dirname, 'presidential_focus_tree_report.md');

// –ù–æ–≤—ã–π —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —Ñ–æ–∫—É—Å
const startFocus = {
  id: "president_reflects",
  turn_id: 12,
  period: "–°—Ç–∞—Ä—Ç–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥",
  title: "–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç —Ä–∞–∑–º—ã—à–ª—è–µ—Ç",
  duration: 30,
  description: "–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é –≤ —Å—Ç—Ä–∞–Ω–µ –∏ –≥–æ—Ç–æ–≤–∏—Ç—Å—è –∫ –ø—Ä–∏–Ω—è—Ç–∏—é –∫–ª—é—á–µ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π.",
  effects: { no_effect: true },
  x: -5,
  y: 0,
  prerequisites: []
};

// –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–µ —Ñ–æ–∫—É—Å—ã —Å –Ω–æ–≤—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
const presidentialDecisions = [
  {
    id: "personal_control",
    turn_id: 13,
    period: "–°–∞–º—ã–π —Ä–∞–Ω–Ω–∏–π –∏–∑ —É–ø–æ–º—è–Ω—É—Ç—ã—Ö",
    title: "–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç —Å–∞–º —Ä–∞–∑–±–µ—Ä–µ—Ç—Å—è",
    duration: 90,
    description: "–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è –ø—Ä—è–º–æ–µ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏, –ø—Ä–æ–≤–æ–¥–∏—Ç –≤—ã–µ–∑–¥–Ω—ã–µ —Å–æ–≤–µ—â–∞–Ω–∏—è, –¥–∞–µ—Ç –ø—Ä—è–º—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–º –ª–∏–¥–µ—Ä–∞–º –∏ –ø–æ–ª–ø—Ä–µ–¥–∞–º, –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –∫–∞–¥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è —É—Å–∏–ª–µ–Ω–∏—è –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏.",
    effects: { no_effect: true },
    x: -4,
    y: 0,
    prerequisites: ["president_reflects"]
  },
  {
    id: "balance_conservation",
    turn_id: 14,
    period: "–ü–µ—Ä–∏–æ–¥ —Ä–∞–Ω–Ω–µ–π –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏–∏",
    title: "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞",
    duration: 90,
    description: "–¢–µ–∫—É—â–∞—è –º–æ–¥–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è. –ù–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –≤–≤–æ–¥—è—Ç—Å—è, –ø—Ä–æ—Ü–µ—Å—Å—ã –∏–¥—É—Ç –ø–æ –∏–Ω–µ—Ä—Ü–∏–∏. –ö—É—Ä–∞—Ç–æ—Ä–∞–º –∏ –ø–æ–ª–ø—Ä–µ–¥—Å—Ç–≤–∞–º –¥–∞–µ—Ç—Å—è —É–∫–∞–∑–∞–Ω–∏–µ '–Ω–µ —É–≥–ª—É–±–ª—è—Ç—å' –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—è —Å–ª–æ–∂–∏–≤—à–µ–µ—Å—è —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ.",
    effects: { no_effect: true },
    x: -3,
    y: 0,
    prerequisites: ["personal_control"]
  },
  {
    id: "inertia_maintenance",
    turn_id: 15,
    period: "–ü–µ—Ä–∏–æ–¥ –¥–æ –•–æ–¥–∞ 17",
    title: "–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –∏–Ω–µ—Ä—Ü–∏–∏",
    duration: 90,
    description: "–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ä–∞–Ω–µ–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä. –†–µ—à–µ–Ω–∏—è –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ –≤–µ–¥–æ–º—Å—Ç–≤–µ–Ω–Ω–æ–º —É—Ä–æ–≤–Ω–µ, –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ª–∏—à—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ —Ä–∏—Å–∫–∏, –Ω–µ –º–µ–Ω—è—è –æ–±—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.",
    effects: { no_effect: true },
    x: -2,
    y: 0,
    prerequisites: ["balance_conservation"]
  },
  {
    id: "waiting_mode",
    turn_id: 16,
    period: "–ü–µ—Ä–∏–æ–¥ –¥–æ –•–æ–¥–∞ 17",
    title: "–†–µ–∂–∏–º –æ–∂–∏–¥–∞–Ω–∏—è",
    duration: 90,
    description: "–ù–æ–≤—ã–µ –º–∞—Å—à—Ç–∞–±–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã –∏ —Ä–µ—Ñ–æ—Ä–º—ã –æ—Ç–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è. –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–º –æ—Ä–≥–∞–Ω–∞–º –ø–æ—Ä—É—á–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö —Ä–µ—à–µ–Ω–∏–π, –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞, –µ—Å–ª–∏ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —è–≤–Ω—ã—Ö –ø—Ä–æ–≤–∞–ª–æ–≤. –ü–µ—Ä–∏–æ–¥ —Å–Ω–∏–∂–µ–Ω–∏—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–π –Ω–∞–ø—Ä—è–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∑–∞–º–µ–¥–ª–µ–Ω–∏—è —Ç–µ–º–ø–æ–≤ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π.",
    effects: { no_effect: true },
    x: -1,
    y: 0,
    prerequisites: ["inertia_maintenance"]
  },
  {
    id: "external_perimeter",
    turn_id: 17,
    period: "–†–∞–Ω–Ω–∏–π –ª—É–Ω–∞—Ä–Ω—ã–π –∏–ª–∏ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥",
    title: "–ê–Ω—Ç–∏—Ç–µ—Ä—Ä–æ—Ä",
    duration: 90,
    description: "–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –∞–ø–ø–∞—Ä–∞—Ç —Å–Ω–∏–∂–∞–µ—Ç—Å—è. –û—Å–Ω–æ–≤–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∏ –¥–∏–ø–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –Ω–∞ —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –†–æ—Å—Å–∏–∏ –≤ –°–ù–ì –∏ –Ω–∞ –ë–ª–∏–∂–Ω–µ–º –í–æ—Å—Ç–æ–∫–µ, –∏—Å–ø–æ–ª—å–∑—É—è '–æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ' –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Å –ó–∞–ø–∞–¥–æ–º –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–æ–≤—ã—Ö –∞–ª—å—è–Ω—Å–æ–≤ –∏ —Ä—ã–Ω–∫–æ–≤.",
    effects: { strengthened: ["–ê–∫—Ç–∏–≤–Ω–∞—è –ü–æ–ª–∏—Ç–∏–∫–∞ –≤ –ë–ª–∏–∂–Ω–µ–º –ó–∞—Ä—É–±–µ–∂—å–µ"], weakened: ["–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ-–ö—Ä–µ–ø–æ—Å—Ç—å"] },
    x: 0,
    y: 0,
    prerequisites: ["waiting_mode"]
  },
  {
    id: "total_mobilization",
    turn_id: 18,
    period: "–†–∞–Ω–Ω–∏–π –ø–µ—Ä–∏–æ–¥",
    title: "–¢–æ—Ç–∞–ª—å–Ω–∞—è –º–æ–±–∏–ª–∏–∑–∞—Ü–∏—è",
    duration: 90,
    description: "–ë–æ—Ä—å–±–∞ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –∏ –≤–Ω–µ—à–Ω–∏–º–∏ —É–≥—Ä–æ–∑–∞–º–∏ (—Ç–µ—Ä—Ä–æ—Ä–∏–∑–º) –æ–±—ä—è–≤–ª–µ–Ω–∞ –∞–±—Å–æ–ª—é—Ç–Ω—ã–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º. –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∞ —Ä–µ—Ñ–æ—Ä–º–∞ —Å–∏–ª–æ–≤—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä, –ø—Ä–∏–Ω—è—Ç—ã –∑–∞–∫–æ–Ω—ã, —Ä–∞—Å—à–∏—Ä—è—é—â–∏–µ –ø–æ–ª–Ω–æ–º–æ—á–∏—è —Å–ø–µ—Ü—Å–ª—É–∂–± –∏ —É–∂–µ—Å—Ç–æ—á–∞—é—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å. –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Å—ã–ª ‚Äì —Å–ø–ª–æ—á–µ–Ω–∏–µ –Ω–∞—Ü–∏–∏.",
    effects: { strengthened: ["–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ-–ö—Ä–µ–ø–æ—Å—Ç—å"], weakened: ["–†–∞—Å–∫–æ–ª–æ—Ç–æ–µ –û–±—â–µ—Å—Ç–≤–æ", "–ú—è–≥–∫–∞—è –°–∏–ª–∞"] },
    x: 1,
    y: 0,
    prerequisites: ["external_perimeter"]
  },
  {
    id: "national_projects",
    turn_id: 19,
    period: "–ü–µ—Ä–∏–æ–¥ –µ—â–µ —Ä–∞–Ω–µ–µ",
    title: "–ö—É—Ä—Å –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ",
    duration: 90,
    description: "–£–ø–æ—Ä –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∫—Ä—É–ø–Ω—ã—Ö –≥–æ—Å–ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏ –û–ü–ö –¥–ª—è –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ –∏ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏–∏ —ç–ª–∏—Ç. –°–æ—Ö—Ä–∞–Ω–µ–Ω –∂–µ—Å—Ç–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –≤ —Å—Ñ–µ—Ä–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–æ —Ä–µ—Å—É—Ä—Å—ã –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø–æ–¥ –≥–æ—Å–ø–∞—Ç—Ä–æ–Ω–∞–∂–µ–º. –†–∏—Ç–æ—Ä–∏–∫–∞ '–º–æ–±–∏–ª–∏–∑–∞—Ü–∏–∏' –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–º—è–≥—á–∏–ª–∞—Å—å.",
    effects: { strengthened: ["–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ü—Ä–æ–µ–∫—Ç—ã: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ò–º–ø—É–ª—å—Å", "–†–µ–∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –û–ü–ö –∏ –¢–µ—Ö. –°—É–≤–µ—Ä–µ–Ω–∏—Ç–µ—Ç"], maintained: ["–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ-–ö—Ä–µ–ø–æ—Å—Ç—å"] },
    x: 2,
    y: 0,
    prerequisites: ["total_mobilization"]
  },
  {
    id: "sovereign_democracy",
    turn_id: 20,
    period: "–ü–µ—Ä–∏–æ–¥ –ø–µ—Ä–µ–¥ –í–µ—Å–Ω–æ–π 2003",
    title: "–°—É–≤–µ—Ä–µ–Ω–Ω–∞—è –¥–µ–º–æ–∫—Ä–∞—Ç–∏—è",
    duration: 90,
    description: "–ê–∫—Ü–µ–Ω—Ç —Å–¥–µ–ª–∞–Ω –Ω–∞ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω–æ–º –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–∏ –ø—Ä–∞–∫—Ç–∏–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: —É—Å–∏–ª–µ–Ω–∏–µ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è, —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –∏–Ω—Ñ–æ–ø–æ–ª–µ–º. –ü—Ä–æ–¥–æ–ª–∂–∞–ª–æ—Å—å –¥–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Å—Ç–∞—é—â–∏–µ—Å—è –æ—á–∞–≥–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —ç–∫–æ–Ω–æ–º–∏–∫–µ –∏ –ø–æ–ª–∏—Ç–∏–∫–µ —á–µ—Ä–µ–∑ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã.",
    effects: { strengthened: ["–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ-–ö—Ä–µ–ø–æ—Å—Ç—å", "–°—É–≤–µ—Ä–µ–Ω–Ω–∞—è –≠–∫–æ–Ω–æ–º–∏–∫–∞"], weakened: ["–†–∞—Å–∫–æ–ª–æ—Ç–æ–µ –û–±—â–µ—Å—Ç–≤–æ"] },
    x: 3,
    y: 0,
    prerequisites: ["national_projects"]
  },
  {
    id: "mobilization_course",
    turn_id: 21,
    period: "–í–µ—Å–Ω–∞ 2003",
    title: "–ú–æ–±–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π –∫—É—Ä—Å",
    duration: 90,
    description: "–í–µ—Å–Ω–æ–π 2003 –≥–æ–¥–∞ –±—ã–ª –≤–∑—è—Ç —Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã–π –∫—É—Ä—Å –Ω–∞ –¥–∞–ª—å–Ω–µ–π—à–µ–µ —É—Å–∏–ª–µ–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –º–æ—â–∏ –∏ –º–æ–±–∏–ª–∏–∑–∞—Ü–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–¥–∞–≤–∞–ª—Å—è —É–∫—Ä–µ–ø–ª–µ–Ω–∏—é —Å–∏–ª–æ–≤—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä, –∫–æ–Ω—Ç—Ä–æ–ª—é –Ω–∞–¥ –∏–Ω—Ñ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏. –≠–∫–æ–Ω–æ–º–∏–∫–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∞—Å—å –Ω–∞ –Ω—É–∂–¥—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ '—Å—É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è' —Å —É—Å–∏–ª–µ–Ω–∏–µ–º –∏–¥–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è.",
    effects: { strengthened: ["–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ-–ö—Ä–µ–ø–æ—Å—Ç—å"], weakened: ["–†–∞—Å–∫–æ–ª–æ—Ç–æ–µ –û–±—â–µ—Å—Ç–≤–æ", "–ú—è–≥–∫–∞—è –°–∏–ª–∞"] },
    x: 4,
    y: 0,
    prerequisites: ["sovereign_democracy"]
  },
  {
    id: "national_building",
    turn_id: 22,
    period: "–õ–µ—Ç–æ 2003",
    title: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ",
    duration: 90,
    description: "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –ª–µ—Ç–æ–º 2003 –≥–æ–¥–∞ –±—ã–ª–∞ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Å—à—Ç–∞–±–Ω—ã—Ö –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –∏ –æ–±–æ—Ä–æ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º—ã—Ö –∫–∞–∫ –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω—ã –∏ —Å–ø–æ—Å–æ–± –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏–∏ —ç–ª–∏—Ç. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∞–∫—Ç–∏–≤–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –≤ –û–ü–ö –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–¥ –∂–µ—Å—Ç–∫–∏–º —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–æ—Å—å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ—è–ª—å–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏–ª.",
    effects: { strengthened: ["–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ü—Ä–æ–µ–∫—Ç—ã: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ò–º–ø—É–ª—å—Å", "–†–µ–∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –û–ü–ö –∏ –¢–µ—Ö. –°—É–≤–µ—Ä–µ–Ω–∏—Ç–µ—Ç", "–°—É–≤–µ—Ä–µ–Ω–Ω–∞—è –≠–∫–æ–Ω–æ–º–∏–∫–∞"] },
    x: 5,
    y: 0,
    prerequisites: ["mobilization_course"]
  },
  {
    id: "presidential_control",
    turn_id: 23,
    period: "–û—Å–µ–Ω—å 2003",
    title: "–£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –≤—ã–±–æ—Ä—ã –∏ –≥–æ—Å–∫–æ–Ω—Ç—Ä–æ–ª—å",
    duration: 90,
    description: "–í –ø—Ä–µ–¥–¥–≤–µ—Ä–∏–∏ –¥–µ–∫–∞–±—Ä—å—Å–∫–∏—Ö –≤—ã–±–æ—Ä–æ–≤ –≤ –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—É—é –î—É–º—É, –∫–ª—é—á–µ–≤—ã–µ —É—Å–∏–ª–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –±—ã–ª–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –∏–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –±—ã–ª –¥–∞–Ω —Å—Ç–∞—Ä—Ç –∞–∫—Ç–∏–≤–Ω–æ–π —Ñ–∞–∑–µ –¥–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –∫—Ä—É–ø–Ω—ã–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –±–∏–∑–Ω–µ—Å-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–∞—Ä–µ—Å—Ç –≥–ª–∞–≤—ã –Æ–ö–û–°–∞), —á—Ç–æ –æ–±–æ–∑–Ω–∞—á–∏–ª–æ –∫—É—Ä—Å –Ω–∞ —É—Å–∏–ª–µ–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–∞–ø–∏—Ç–∞–ª–∏–∑–º–∞. –≠—Ç–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–≤–æ–¥–∏–ª–∞—Å—å –Ω–∞ —Ñ–æ–Ω–µ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫ –º–µ–Ω—è—é—â–µ–π—Å—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π –æ–±—Å—Ç–∞–Ω–æ–≤–∫–µ.",
    effects: { strengthened: ["–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ-–ö—Ä–µ–ø–æ—Å—Ç—å", "–°—É–≤–µ—Ä–µ–Ω–Ω–∞—è –≠–∫–æ–Ω–æ–º–∏–∫–∞"], weakened: ["–†–∞—Å–∫–æ–ª–æ—Ç–æ–µ –û–±—â–µ—Å—Ç–≤–æ", "–ú—è–≥–∫–∞—è –°–∏–ª–∞"] },
    x: 6,
    y: 0,
    prerequisites: ["national_building"]
  }
];

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–∫–æ–Ω–æ–∫ —Ñ–æ–∫—É—Å–æ–≤
function generateFocusIcons() {
  const icons = {
    "president_reflects": "history/focus_icons/president_reflects.png",
    "personal_control": "history/focus_icons/presidential_control.png",
    "balance_conservation": "history/focus_icons/balance.png",
    "inertia_maintenance": "history/focus_icons/stability.png",
    "waiting_mode": "history/focus_icons/monitoring.png",
    "external_perimeter": "history/focus_icons/foreign_policy.png",
    "total_mobilization": "history/focus_icons/security.png",
    "national_projects": "history/focus_icons/infrastructure.png",
    "sovereign_democracy": "history/focus_icons/sovereign_democracy.png",
    "mobilization_course": "history/focus_icons/mobilization.png",
    "national_building": "history/focus_icons/national_projects.png",
    "presidential_control": "history/focus_icons/election_control.png"
  };
  return icons;
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–æ–∫—É—Å-–¥–µ—Ä–µ–≤–∞
function createFocusTree() {
  const icons = generateFocusIcons();
  const focusTree = {
    focus_tree_nodes: [
      {
        id: startFocus.id,
        created_at: new Date().toISOString(),
        title: startFocus.title,
        icon_path: icons[startFocus.id] || "history/focus_icons/default.png",
        duration: startFocus.duration,
        description: startFocus.description,
        x: startFocus.x,
        y: startFocus.y,
        prerequisites: startFocus.prerequisites,
        metadata: {
          turn_id: startFocus.turn_id,
          period: startFocus.period,
          effects: startFocus.effects
        }
      },
      ...presidentialDecisions.map(decision => ({
        id: decision.id,
        created_at: new Date().toISOString(),
        title: decision.title,
        icon_path: icons[decision.id] || "history/focus_icons/default.png",
        duration: decision.duration,
        description: decision.description,
        x: decision.x,
        y: decision.y,
        prerequisites: decision.prerequisites,
        metadata: {
          turn_id: decision.turn_id,
          period: decision.period,
          effects: decision.effects
        }
      }))
    ]
  };
  
  return focusTree;
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞
function createReport(focusTree) {
  let report = `# –î—Ä–µ–≤–æ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –§–æ–∫—É—Å–æ–≤: –†–µ—à–µ–Ω–∏—è –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞\n\n## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n\n- **–í—Å–µ–≥–æ —Ñ–æ–∫—É—Å–æ–≤**: ${focusTree.focus_tree_nodes.length}\n- **–ü–µ—Ä–∏–æ–¥**: ${focusTree.focus_tree_nodes[0].metadata.period} - ${focusTree.focus_tree_nodes[focusTree.focus_tree_nodes.length - 1].metadata.period}\n- **–û–±—â–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: ${focusTree.focus_tree_nodes.reduce((sum, focus) => sum + focus.duration, 0)} –¥–Ω–µ–π\n\n## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥—Ä–µ–≤–∞ —Ñ–æ–∫—É—Å–æ–≤\n\n`;

  // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ turn_id –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞
  const sortedFocuses = focusTree.focus_tree_nodes.sort((a, b) => a.metadata.turn_id - b.metadata.turn_id);
  
  sortedFocuses.forEach(focus => {
    report += `### ${focus.metadata.period} (–•–æ–¥ ${focus.metadata.turn_id})\n\n**–§–æ–∫—É—Å**: ${focus.title}\n**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: ${focus.duration} –¥–Ω–µ–π\n**–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã**: (${focus.x}, ${focus.y})\n\n**–û–ø–∏—Å–∞–Ω–∏–µ**: ${focus.description}\n\n**–í–ª–∏—è–Ω–∏–µ –Ω–∞ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –î—É—Ö–∏**:\n`;

    if (focus.metadata.effects.no_effect) {
      report += `- –ù–µ –æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –∑–Ω–∞—á–∏–º–æ–≥–æ –≤–ª–∏—è–Ω–∏—è\n`;
    } else {
      if (focus.metadata.effects.strengthened) {
        report += `- **–£—Å–∏–ª–∏–ª–∏—Å—å**: ${focus.metadata.effects.strengthened.join(', ')}\n`;
      }
      if (focus.metadata.effects.weakened) {
        report += `- **–û—Å–ª–∞–±–ª–∏/–£—Å—É–≥—É–±–∏–ª–∏—Å—å**: ${focus.metadata.effects.weakened.join(', ')}\n`;
      }
      if (focus.metadata.effects.maintained) {
        report += `- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∏—Å—å**: ${focus.metadata.effects.maintained.join(', ')}\n`;
      }
    }
    
    report += `**–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**: ${focus.prerequisites.length > 0 ? focus.prerequisites.join(', ') : '–ù–µ—Ç'}\n\n---\n`;
  });
  
  report += `\n## –ê–Ω–∞–ª–∏–∑ —ç–≤–æ–ª—é—Ü–∏–∏ –∫—É—Ä—Å–∞\n\n1. **–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç —Ä–∞–∑–º—ã—à–ª—è–µ—Ç** ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç—Ç–∞–ø\n2. **–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç —Å–∞–º —Ä–∞–∑–±–µ—Ä–µ—Ç—Å—è** ‚Äî –ø—Ä—è–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ\n3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞** ‚Äî —Ñ–∏–∫—Å–∞—Ü–∏—è –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ–≥–æ\n4. **–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –∏–Ω–µ—Ä—Ü–∏–∏** ‚Äî –∏–Ω–µ—Ä—Ü–∏–æ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥\n5. **–†–µ–∂–∏–º –æ–∂–∏–¥–∞–Ω–∏—è** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥\n6. **–ê–Ω—Ç–∏—Ç–µ—Ä—Ä–æ—Ä** ‚Äî –≤–Ω–µ—à–Ω–µ–ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –∏ —Å–∏–ª–æ–≤–æ–π –∞–∫—Ü–µ–Ω—Ç\n7. **–¢–æ—Ç–∞–ª—å–Ω–∞—è –º–æ–±–∏–ª–∏–∑–∞—Ü–∏—è** ‚Äî –º–æ–±–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Ä—ã–≤–æ–∫\n8. **–ö—É—Ä—Å –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ** ‚Äî –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞\n9. **–°—É–≤–µ—Ä–µ–Ω–Ω–∞—è –¥–µ–º–æ–∫—Ä–∞—Ç–∏—è** ‚Äî –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ\n10. **–ú–æ–±–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π –∫—É—Ä—Å** ‚Äî —É—Å–∏–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è\n11. **–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ** ‚Äî –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è —ç–ª–∏—Ç\n12. **–£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –≤—ã–±–æ—Ä—ã –∏ –≥–æ—Å–∫–æ–Ω—Ç—Ä–æ–ª—å** ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —ç—Ç–∞–ø\n\n---\n*–î—Ä–µ–≤–æ —Ñ–æ–∫—É—Å–æ–≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞*\n`;

  return report;
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
function main() {
  console.log('üå≥ –°–æ–∑–¥–∞–Ω–∏–µ –¥—Ä–µ–≤–∞ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ñ–æ–∫—É—Å–æ–≤...');
  
  const focusTree = createFocusTree();
  const report = createReport(focusTree);
  
  // –ó–∞–ø–∏—Å—å JSON —Ñ–∞–π–ª–∞
  fs.writeFileSync(outputPath, JSON.stringify(focusTree, null, 2), 'utf-8');
  
  // –ó–∞–ø–∏—Å—å –æ—Ç—á–µ—Ç–∞
  fs.writeFileSync(reportPath, report, 'utf-8');
  
  console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ —Ñ–æ–∫—É—Å–æ–≤: ${focusTree.focus_tree_nodes.length}`);
  console.log(`üìÅ JSON —Ñ–∞–π–ª: ${outputPath}`);
  console.log(`üìÑ –û—Ç—á–µ—Ç: ${reportPath}`);
}

// –ó–∞–ø—É—Å–∫
main(); 