<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Политика - Реплика v2</title>
    <style>
        body {
            background-color: #2e2e2e;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #e0e0e0;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        .hoi4-politics-screen {
            width: 1200px; /* Увеличена ширина */
			min-height: 1400px;
            background-color: #3c3c3c;
            border: 2px solid #555;
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
        }

        .window-title-bar {
            background-color: #2a2a2a;
            color: #fff;
            padding: 10px 15px; /* Немного увеличен padding */
            font-size: 1.2em; /* Немного увеличен шрифт */
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #555;
        }

        .close-button {
            cursor: pointer;
            font-weight: bold;
            padding: 3px 9px;
            background-color: #4a4a4a;
            border: 1px solid #666;
            border-radius: 3px;
        }
        .close-button:hover {
            background-color: #6a6a6a;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            padding: 15px; /* Немного увеличен padding */
        }

        .upper-section {
            display: flex;
            border-bottom: 1px solid #555;
            padding-bottom: 15px;
            margin-bottom: 15px;
        }

        .leader-pane {
            flex-basis: 230px; /* Немного увеличена ширина */
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-right: 20px;
        }

        .leader-portrait {
            width: 180px; /* Увеличен размер */
            height: 210px; /* Увеличен размер */
            background-color: #555;
            border: 1px solid #777;
            margin-bottom: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .leader-portrait img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .leader-name, .ideology-name {
            background-color: #223e22;
            color: #ffd700;
            padding: 6px 12px;
            text-align: center;
            font-size: 1em; /* Увеличен */
            border: 1px solid #335e33;
            border-radius: 3px;
            width: 95%;
            margin-bottom: 8px;
        }
        .ideology-name {
            background-color: #4a3b2a;
            font-size: 0.9em; /* Увеличен */
        }
        .ideology-info {
             display: flex;
             align-items: center;
             width: 95%;
             margin-top: 8px;
        }
        .ideology-icon, .party-emblem {
            min-width: 45px; /* Увеличен */
            height: 45px; /* Увеличен */
            background-color: #555;
            border: 1px solid #777;
            margin-right: 8px;
            margin-bottom: 8px;
        }
        .party-emblem { margin-right: 0; }

        .national-info-pane {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .national-focus-banner {
            height: 100px; /* Увеличен */
            background-color: #555;
            border: 1px solid #777;
            margin-bottom: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            position: relative;
            padding: 8px;
        }
        .national-focus-banner img.focus-bg {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            object-fit: cover;
            z-index: 1;
        }
        .focus-title-bar {
            background-color: rgba(40, 40, 40, 0.85);
            color: white;
            padding: 4px 10px;
            font-size: 1em; /* Увеличен */
            text-align: center;
            border-radius: 3px;
            width: 180px;
            margin-bottom: 4px;
            z-index: 2;
        }
        .focus-progress-bar {
            width: 85%;
            height: 10px; /* Увеличен */
            background-color: #222;
            border: 1px solid #444;
            border-radius: 3px;
            overflow: hidden;
            z-index: 2;
        }
        .focus-progress {
            width: 25%;
            height: 100%;
            background-color: #aa00aa;
        }

        .national-spirits {
            display: flex;
            justify-content: flex-start; /* Allows wrapping */
            flex-wrap: wrap;
            gap: 5px; /* Spacing between icons */
            margin-bottom: 10px;
            background-color: #2a2a2a;
            padding: 8px;
            border-radius: 3px;
        }
        .spirit-icon {
            width: 40px; /* Увеличен */
            height: 40px; /* Увеличен */
            background-color: #666;
            border: 1px solid #888;
            cursor: help;
            border-radius: 3px;
        }
        .spirit-icon img { width: 100%; height: 100%; object-fit: contain;}

        .political-details {
            display: flex;
            justify-content: space-between;
            gap: 10px; /* Spacing between these blocks */
        }
        .ruling-party-info, .political-system-info-container {
            background-color: #2a2a2a;
            padding: 10px;
            font-size: 0.85em; /* Увеличен */
            border: 1px solid #444;
            border-radius: 3px;
        }
        .ruling-party-info { flex-basis: 38%; }
        .political-system-info-container { flex-basis: 28%; text-align: center;}

        .political-system-info-container img.flag {
            width: 35px; height: 23px; margin-bottom: 8px; border: 1px solid #777;
        }
        .balance-btn {
            background-color: #5a5a5a;
            color: #e0e0e0;
            border: 1px solid #777;
            padding: 6px 12px;
            font-size: 0.9em;
            border-radius: 3px;
            cursor: pointer;
            margin-top: 10px;
            display: block;
            width: 100%;
        }
        .balance-btn:hover {
            background-color: #6a6a6a;
        }

        .party-popularity {
            flex-grow: 1;
            display: flex;
            align-items: center;
            background-color: #2a2a2a; /* Added for consistency */
            padding: 10px;             /* Added for consistency */
            border: 1px solid #444;   /* Added for consistency */
            border-radius: 3px;       /* Added for consistency */
        }
        .pie-chart {
            width: 110px; /* Увеличен */
            height: 110px; /* Увеличен */
            background-color: #555;
            border-radius: 50%;
            border: 1px solid #777;
            margin-right: 15px;
            display: flex; justify-content: center; align-items: center;
        }
        .party-list {
            font-size: 0.8em; /* Увеличен */
            list-style: none;
            padding: 0;
            margin: 0;
            max-height: 240px;
            overflow-y: auto;
            flex-grow: 1;
        }
        .party-list li { display: flex; align-items: center; margin-bottom: 3px; padding: 3px; }
        .party-list li.highlighted { background-color: #ffd700; color: #222; }
        .party-color-box { width: 12px; height: 12px; margin-right: 6px; border: 1px solid #ccc; }

        /* Lower Section for Laws etc. */
        .lower-section {
            max-height: 1200px; /* Увеличена высота для скролла */
            overflow-y: auto;
            padding-right: 10px;
        }
        .category-block { margin-bottom: 15px; }
        .category-header {
            background-color: #2a2a2a; color: white; padding: 8px 12px;
            font-size: 1em; /* Увеличен */
            border-bottom: 1px solid #555; display: flex; align-items: center;
        }
        .category-header-icon {
            width: 20px; height: 20px; margin-right: 10px;
            filter: invert(100%) sepia(0%) saturate(7500%) hue-rotate(189deg) brightness(109%) contrast(101%);
        }

        .category-items {
            display: flex;
            flex-wrap: wrap; /* Для переноса элементов */
            justify-content: center; /* Элементы будут начинаться c центра */
            padding: 10px 5px;
            background-color: #333;
            border-radius: 0 0 4px 4px;
            gap: 10px; /* Пространство между элементами */
        }

        .item-slot, .advisor-portrait-slot {
            width: 80px;  /* Увеличен размер слота */
            height: 80px; /* Увеличен размер слота */
            background-color: #4a4a4a;
            border: 1px solid #666;
            border-radius: 5px;
            display: flex;
            flex-direction: column; /* For potential text below icon */
            justify-content: center;
            align-items: center;
            cursor: help;
            position: relative;
            box-sizing: border-box; /* Important for flex-wrap with gap */
        }
        .item-slot.selected { border-color: #bbb; box-shadow: 0 0 6px #ddd; }
        .item-slot img, .advisor-portrait-slot img {
            max-width: 90%; max-height: 90%; object-fit: contain;
        }
        .advisor-portrait-slot {
            height: 95px; /* Портреты чуть выше */
        }
        .plus-overlay {
            position: absolute; bottom: 3px; right: 3px;
            background-color: green; color: white; border-radius: 50%;
            width: 18px; height: 18px; display: flex; justify-content: center;
            align-items: center; font-size: 0.9em; font-weight: bold;
        }

        /* Tooltip */
        .tooltip {
            position: fixed; /* Fixed position for global tooltip */
            background-color: rgba(10,10,10,0.9);
            color: #fff; padding: 10px 15px; border-radius: 4px;
            font-size: 0.95em; white-space: pre-line; z-index: 1000;
            pointer-events: none; max-width: 600px; border: 1px solid #666;
            box-shadow: 0 2px 5px rgba(0,0,0,0.5);
        }

        /* Modal styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1001; /* Sit on top */
            left: 0; top: 0; width: 100%; height: 100%;
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.6); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #3a3a3a;
            color: #e0e0e0;
            margin: auto;
            padding: 25px;
            border: 1px solid #888;
            width: 80%;
            max-width: 450px; /* Max width */
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
            text-align: center;
        }
        .modal-close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute; /* Relative to modal-content if modal-content is position:relative */
            top: 10px;
            right: 15px;
        }
        .modal-close-button:hover,
        .modal-close-button:focus {
            color: #fff; text-decoration: none; cursor: pointer;
        }
        .balance-scale-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 20px 0;
        }
        .scale-icon { font-size: 2em; }
        .balance-scale { flex-grow: 1; margin: 0 15px; }
        .scale-track {
            width: 100%; height: 10px; background-color: #555;
            border-radius: 5px; position: relative; border: 1px solid #777;
        }
        .scale-marker {
            width: 16px; height: 16px; background-color: #ffd700; /* Gold */
            border-radius: 50%; position: absolute; top: 50%;
            transform: translate(-50%, -50%); /* Center marker */
            border: 2px solid #333;
            box-shadow: 0 0 5px #ffd700;
        }
        .scale-labels {
            display: flex; justify-content: space-between;
            font-size: 0.9em; margin-top: 8px; color: #ccc;
        }
        #balanceValueDisplay { font-weight: bold; color: #ffd700; }

    </style>
</head>
<body>

<div class="hoi4-politics-screen">
    <div class="window-title-bar">
        <span>Политика</span>
        <span class="close-button" onclick="alert('Окно закрыто (симуляция)')">X</span>
    </div>

    <div class="main-content">
        <div class="upper-section">
            <div class="leader-pane">
                <div class="leader-portrait">
                    <img src="https://via.placeholder.com/180x210/555/fff?text=Putin" alt="Владимир Путин">
                </div>
                <div class="leader-name">Владимир Путин</div>
                <div class="ideology-info">
                    <div class="ideology-icon" data-tooltip="Суверенная демократия (термин, входящий в политический лексикон Российской Федерации в начале 2000-х годов) — политико-идеологическая концепция, постулирующая необходимость формирования и развития демократической системы государства при обязательном сохранении и укреплении его полного суверенитета.

Ключевыми аспектами данной концепции являются:

Примат национального суверенитета: Подчеркивается право государства самостоятельно определять модель своего политического, экономического и социального устройства, пути развития и национальные интересы без внешнего вмешательства, давления или навязывания стандартов.

Адаптация демократических принципов: Предполагается, что универсальные демократические ценности и институты должны имплементироваться с учетом специфических исторических, культурных, цивилизационных и социально-политических особенностей конкретной страны, в данном случае России. Отвергается механическое копирование зарубежных моделей демократии.

Роль сильного государства: Акцентируется значение дееспособного и сильного государства как гаранта стабильности, территориальной целостности, защиты прав граждан и самого суверенного демократического выбора от внутренних и внешних угроз.

Концепция направлена на легитимацию самостоятельного пути демократического развития, отличного от западных образцов, и на утверждение России как независимого центра силы в мировой политике.">
                        <img src="https://via.placeholder.com/45/666/fff?text=Icn" alt="Ideology Icon">
                    </div>
                    <div class="ideology-name">
                        Суверенная<br>демократия
                    </div>
                </div>
                <div class="party-emblem" data-tooltip="Эмблема правящей партии">
                    <img src="ERlogo.jpg" alt="Party Emblem">
                </div>
            </div>

            <div class="national-info-pane">
                <div class="national-focus-banner" data-tooltip="Нация входит в новый век.">
                    <img src="https://via.placeholder.com/600x100/555/fff?text=Focus+Art" alt="Русская Мечта" class="focus-bg">
                    <div class="focus-title-bar">Начало 2000 - Ход X</div>
                    <div class="focus-progress-bar">
                        <div class="focus-progress"></div>
                    </div>
                </div>
                <div class="national-spirits">
                    <!-- Add more spirits to test wrapping, up to 8 per line by design with current icon sizes -->
                    <div class="spirit-icon" data-tooltip="Великодержавные Амбиции
Эффект: +5% Политическая Власть"><img src="https://via.placeholder.com/40/777/fff?text=S1" alt="S1"></div>
                    <div class="spirit-icon" data-tooltip="Сильная Армия
Эффект: +10% Атака дивизий"><img src="https://via.placeholder.com/40/777/fff?text=S2" alt="S2"></div>
                    <div class="spirit-icon" data-tooltip="Развитая Промышленность
Эффект: +5% Скорость строительства фабрик"><img src="https://via.placeholder.com/40/777/fff?text=S3" alt="S3"></div>
                    <div class="spirit-icon" data-tooltip="Патриотический Подъем
Эффект: +10% Национальное Единство"><img src="https://via.placeholder.com/40/777/fff?text=S4" alt="S4"></div>
                    <div class="spirit-icon" data-tooltip="Научный Прорыв
Эффект: -5% Время исследования"><img src="https://via.placeholder.com/40/777/fff?text=S5" alt="S5"></div>
                    <div class="spirit-icon" data-tooltip="Культурное Наследие
Эффект: +0.1 Ежедневная стабильность"><img src="https://via.placeholder.com/40/777/fff?text=S6" alt="S6"></div>
                    <div class="spirit-icon" data-tooltip="Энергетическая Сверхдержава
Эффект: +10% Эффективность производства ресурсов"><img src="https://via.placeholder.com/40/777/fff?text=S7" alt="S7"></div>
                    <div class="spirit-icon" data-tooltip="Централизованное Управление
Эффект: -5% Стоимость советников"><img src="https://via.placeholder.com/40/777/fff?text=S8" alt="S8"></div>
                    <div class="spirit-icon" data-tooltip="Нац. дух 9 (тест переноса)
Эффект: Тест"><img src="https://via.placeholder.com/40/777/fff?text=S9" alt="S9"></div>
                </div>
                <div class="political-details">
                    <div class="ruling-party-info">
                        Олигархическая Демократия<br>
                        <small>Следующие выборы: Марта 2024</small>
                    </div>
                    <div class="political-system-info-container">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5IDYiPgo8cmVjdCB3aWR0aD0iOSIgaGVpZ2h0PSI2IiBmaWxsPSIjZmZmIi8+CjxyZWN0IHk9IjIiIHdpZHRoPSI5IiBoZWlnaHQ9IjIiIGZpbGw9IiMwMDM5YjYiLz4KPHJlY3QgeT0iNCIgd2lkdGg9IjkiIGhlaWdodD0iMiIgZmlsbD0iI2Q1MTYxZSIvPgo8L3N2Zz4=" alt="Флаг РФ" class="flag">
                        Российск.<br>Политическая<br>Система
                        <button id="balanceButton" class="balance-btn">Баланс</button>
                    </div>
                    <div class="party-popularity">
                        <div class="pie-chart" data-tooltip="Диаграмма популярности партий (имитация)"><img src="https://via.placeholder.com/110/555/fff?text=PieChart" alt="Pie Chart"></div>
                        <ul class="party-list">
                            <li><div class="party-color-box" style="background-color: #A52A2A;"></div>Коммунисты России (1)</li>
                            <li><div class="party-color-box" style="background-color: #FF0000;"></div>КПРФ (12)</li>
                            <li><div class="party-color-box" style="background-color: #FFA500;"></div>Левый Фронт/ДЭНС (2)</li>
                            <li class="highlighted"><div class="party-color-box" style="background-color: #FFFF00;"></div>Единая Россия (51)</li>
                            <li><div class="party-color-box" style="background-color: #87CEEB;"></div>СовБез РФ (0)</li>
                            <li><div class="party-color-box" style="background-color: #00008B;"></div>ЛДПР (11)</li>
                            <li><div class="party-color-box" style="background-color: #8B4513;"></div>Другая Россия (1)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="lower-section">
            <!-- Правительство -->
            <div class="category-block">
                <div class="category-header">
                    <img src="https://via.placeholder.com/20/2a2a2a/fff?text=F" alt="flag" class="category-header-icon">
                    Правительство
                </div>
                <div class="category-items">
                    <div class="advisor-portrait-slot" data-tooltip="Михаил Касьянов
Премьер министр
Эффект: +0.15 Политическая власть в день"><img src="https://via.placeholder.com/80x95/4a4a4a/fff?text=Медведев" alt="M1"></div>
                    <div class="advisor-portrait-slot" data-tooltip="Сергей Лавров
Министр иностранных дел
Эффект: +10% Улучшение отношений"><img src="https://via.placeholder.com/80x95/4a4a4a/fff?text=Лавров" alt="M2"></div>
                    <div class="advisor-portrait-slot" data-tooltip="Алексей Кудрин
Министр Финансов
Эффект: +5% Скорость строительства"><img src="https://via.placeholder.com/80x95/4a4a4a/fff?text=Мишустин" alt="M3"></div>
                    <div class="advisor-portrait-slot" data-tooltip="Олег Ковалев
Министр Экономики
Эффект: +10% Эффективность разведки"><img src="https://via.placeholder.com/80x95/4a4a4a/fff?text=Нарышкин" alt="M4"></div>
                    <div class="advisor-portrait-slot" data-tooltip="Хто-то
Министр Здравоохранения
Эффект: +10% Эффективность разведки"><img src="https://via.placeholder.com/80x95/4a4a4a/fff?text=Нарышкин" alt="M4"></div>
                    <div class="advisor-portrait-slot" data-tooltip="Хто-то
Директор ФСБ
Эффект: +10% Эффективность разведки"><img src="https://via.placeholder.com/80x95/4a4a4a/fff?text=Нарышкин" alt="M4"></div>
                    <div class="advisor-portrait-slot" data-tooltip="Владислав Сурков
Медиатор АП
Эффект: +5% Стабильность"><img src="https://via.placeholder.com/80x95/4a4a4a/fff?text=Вайно" alt="M5"></div>
                </div>

            </div>

            <!-- Экономические Законы -->
            <div class="category-block">
                <div class="category-header">
                    <img src="https://via.placeholder.com/20/2a2a2a/fff?text=Ecn" alt="column" class="category-header-icon">
                    Экономические Законы
                </div>
                <div class="category-items">
                    <div class="item-slot selected" data-tooltip="Свободный Рынок
Описание: Минимальное вмешательство государства.
Эффекты: +10% Рост экономики, -5% Стабильность"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ1" alt="E1"></div>
                    <div class="item-slot" data-tooltip="Плановая Экономика
Описание: Полный контроль государства.
Эффекты: +15% Производство, -10% Скорость строительства гражданских фабрик"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ2" alt="E2"></div>
                    <!-- Add more items here to test wrapping for this category -->
                    <div class="item-slot" data-tooltip="Экспортно-ориентированная экономика
Эффект: +Скорость торговли"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ3" alt="E3"></div>
                    <div class="item-slot" data-tooltip="Военная экономика
Эффект: +Скорость военного производства"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ4" alt="E4"></div>
                    <div class="item-slot" data-tooltip="Изоляционизм
Эффект: -Эффективность торговли"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ5" alt="E5"></div>
                    <div class="item-slot" data-tooltip="Ранняя мобилизация
Эффект: +Доступное население для призыва"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ6" alt="E6"></div>
                    <div class="item-slot" data-tooltip="Частичная мобилизация
Эффект: ++Доступное население для призыва"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ7" alt="E7"></div>
                    <div class="item-slot" data-tooltip="Общая мобилизация
Эффект: +++Доступное население для призыва"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ8" alt="E8"></div>
                    <div class="item-slot" data-tooltip="Всеобщая мобилизация
Эффект: ++++Доступное население (перенос строки)"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ9" alt="E9"></div>
                    <div class="item-slot" data-tooltip="Всеобщая мобилизация
Эффект: ++++Доступное население (перенос строки)"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ10" alt="E10"></div>
                    <div class="item-slot" data-tooltip="Всеобщая мобилизация
Эффект: ++++Доступное население (перенос строки)"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ11" alt="E11"></div>
                    <div class="item-slot" data-tooltip="Всеобщая мобилизация
Эффект: ++++Доступное население (перенос строки)"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Econ12" alt="E12"></div>
                </div>

            </div>
            <!-- Военные Законы -->
            <div class="category-block">
                <div class="category-header">
                    <img src="https://via.placeholder.com/20/2a2a2a/fff?text=Mil" alt="eye" class="category-header-icon">
                    Военные Законы
                </div>
                <div class="category-items">
                    <div class="item-slot selected" data-tooltip="Закон о добровольцах
Эффект: Малое кол-во призывников"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Mil1" alt="M1"></div>
                    <div class="item-slot" data-tooltip="Ограниченный призыв
Эффект: Среднее кол-во призывников"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Mil2" alt="M2"></div>
                    <div class="item-slot" data-tooltip="Всеобщий призыв
Эффект: Большое кол-во призывников"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Mil3" alt="M3"></div>
                </div>
            </div>
            <!-- Социальные Законы -->
            <div class="category-block">
                <div class="category-header">
                    <img src="https://via.placeholder.com/20/2a2a2a/fff?text=Soc" alt="gear" class="category-header-icon">
                    Социальные Законы
                </div>
                <div class="category-items">
                    <div class="item-slot selected" data-tooltip="Закон об образовании
Эффект: +Скорость исследований"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Soc1" alt="S1"></div>
                    <div class="item-slot" data-tooltip="Закон о здравоохранении
Эффект: +Прирост населения"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Soc2" alt="S2"></div>
                </div>
            </div>
            <!-- Развитие -->
            <div class="category-block">
                <div class="category-header">
                    <img src="https://via.placeholder.com/20/2a2a2a/fff?text=Dev" alt="arrows" class="category-header-icon">
                    Развитие
                </div>
                <div class="category-items">
                    <div class="item-slot selected" data-tooltip="Индустриальное развитие
Эффект: +Скорость строительства"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Dev1" alt="D1"></div>
                    <div class="item-slot" data-tooltip="Сельскохозяйственное развитие
Эффект: +Стабильность"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Dev2" alt="D2"></div>
                </div>
            </div>

            <!-- Госкорпорации и ОПК -->
            <div class="category-block">
                <div class="category-header">
                    <img src="https://via.placeholder.com/20/2a2a2a/fff?text=GC" alt="atom" class="category-header-icon">
                    Госкорпорации и ОПК
                </div>
                <div class="category-items">
                    <div class="item-slot" data-tooltip="Ростех
Эффект: +Производство танков и авиации"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Rostec" alt="GC1"></div>
                    <div class="item-slot" data-tooltip="Росатом
Эффект: +Скорость ядерных исследований, +Реакторы"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Rosatom" alt="GC2"></div>
                    <div class="item-slot" data-tooltip="ОСК
Эффект: +Скорость строительства кораблей"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=OSK" alt="GC3"></div>
                    <div class="item-slot" data-tooltip="Концерн Калашников
Эффект: +Производство пехотного вооружения"><img src="https://via.placeholder.com/80/4a4a4a/fff?text=Kalash" alt="GC4"></div>
                </div>
            </div>

        </div> <!-- /lower-section -->
    </div> <!-- /main-content -->
</div> <!-- /hoi4-politics-screen -->

<div class="tooltip" style="display: none;"></div>

<!-- Balance Modal -->
<div id="balanceModal" class="modal">
    <div class="modal-content">
        <span class="modal-close-button" id="closeBalanceModalBtn">×</span>
        <h4>Баланс Сил</h4>
        <div class="balance-scale-container">
            <span class="scale-icon moon-icon">🌙</span>
            <div class="balance-scale">
                <div class="scale-track">
                    <div class="scale-marker" id="balanceMarker"></div>
                </div>
                <div class="scale-labels">
                    <span>-50</span>
                    <span>0</span>
                    <span>+50</span>
                </div>
            </div>
            <span class="scale-icon sun-icon">☀️</span>
        </div>
        <p>Текущее значение: <span id="balanceValueDisplay">0</span></p>
        <!-- Можно добавить кнопки для изменения значения для демонстрации -->
        <button onclick="updateBalanceScale(document.getElementById('balanceValueInput').valueAsNumber)" style="margin-top:10px; padding:5px;">Установить</button>
        <input type="number" id="balanceValueInput" value="0" min="-50" max="50" style="width: 60px; margin-left:5px; background-color: #555; color: white; border: 1px solid #777; padding: 5px;">

    </div>
</div>

<script>
    const tooltipElement = document.querySelector('.tooltip');
    const interactiveElements = document.querySelectorAll('[data-tooltip]');

    interactiveElements.forEach(elem => {
        elem.addEventListener('mouseenter', function(event) {
            const tooltipText = this.getAttribute('data-tooltip');
            if (tooltipText) {
                tooltipElement.innerHTML = tooltipText.replace(/\n/g, '<br>'); // Use innerHTML for <br>
                tooltipElement.style.display = 'block';
            }
        });
         elem.addEventListener('mousemove', function(event) {
            if (tooltipElement.style.display === 'block') {
                let x = event.clientX + 15;
                let y = event.clientY + 15;
                if (x + tooltipElement.offsetWidth > window.innerWidth) {
                    x = event.clientX - tooltipElement.offsetWidth - 15;
                }
                 if (x < 0) x = 5; // Prevent going off left screen
                if (y + tooltipElement.offsetHeight > window.innerHeight) {
                    y = event.clientY - tooltipElement.offsetHeight - 15;
                }
                 if (y < 0) y = 5; // Prevent going off top screen

                tooltipElement.style.left = x + 'px';
                tooltipElement.style.top = y + 'px';
            }
        });
        elem.addEventListener('mouseleave', function() {
            tooltipElement.style.display = 'none';
        });
    });

    const lawSlots = document.querySelectorAll('.category-items .item-slot');
    lawSlots.forEach(slot => {
        slot.addEventListener('click', function() {
            const parentCategoryItems = this.parentElement;
            parentCategoryItems.querySelectorAll('.item-slot.selected').forEach(sel => {
                sel.classList.remove('selected');
            });
            this.classList.add('selected');
        });
    });

    // Balance Modal Logic
    const balanceModal = document.getElementById('balanceModal');
    const balanceButton = document.getElementById('balanceButton');
    const closeBalanceModalBtn = document.getElementById('closeBalanceModalBtn');
    const balanceMarker = document.getElementById('balanceMarker');
    const balanceValueDisplay = document.getElementById('balanceValueDisplay');

    function updateBalanceScale(value) {
        value = Math.max(-50, Math.min(50, Number(value))); // Clamp value
        const percentage = (value + 50); // Range 0-100
        balanceMarker.style.left = percentage + '%';
        balanceValueDisplay.textContent = value;
        // If you have an input field to demonstrate
        if(document.getElementById('balanceValueInput')) {
             document.getElementById('balanceValueInput').value = value;
        }
    }

    balanceButton.onclick = function() {
        balanceModal.style.display = 'flex';
        updateBalanceScale(parseInt(balanceValueDisplay.textContent) || 0); // Initialize or update on open
    }
    closeBalanceModalBtn.onclick = function() {
        balanceModal.style.display = 'none';
    }
    // Close modal if clicked outside of content
    window.onclick = function(event) {
        if (event.target == balanceModal) {
            balanceModal.style.display = 'none';
        }
    }
    // Initial call for default balance (e.g. 0)
    updateBalanceScale(0);

</script>

</body>
</html>
